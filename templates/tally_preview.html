<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tally Data Preview</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-6">
    <div class="max-w-5xl mx-auto bg-white shadow-lg rounded-lg p-6">
        <h1 class="text-2xl font-bold text-gray-800 mb-6">ðŸ“Š Tally Data Preview</h1>

        {% if companies %}
            {% for company in companies %}
                <div class="mb-10 border-b pb-6">
                    <h2 class="text-xl font-semibold text-blue-800 mb-2">{{ company.name }}</h2>

                    <!-- Ledgers -->
                    <div class="mb-4">
                        <h3 class="text-md font-semibold text-gray-700">Ledgers:</h3>
                        {% if company.ledgers %}
                            <ul class="list-disc list-inside text-sm text-gray-600">
                                {% for ledger in company.ledgers %}
                                    <li>{{ ledger }}</li>
                                {% endfor %}
                            </ul>
                        {% else %}
                            <p class="text-sm text-gray-500 italic">No ledgers found.</p>
                        {% endif %}
                    </div>

                    <!-- Vouchers -->
                    <div>
                        <h3 class="text-md font-semibold text-gray-700">Vouchers:</h3>
                        {% if company.vouchers %}
                            <div class="overflow-auto">
                                <table class="w-full table-auto text-sm text-left border border-gray-200 mt-2">
                                    <thead class="bg-gray-200">
                                        <tr>
                                            <th class="px-3 py-2 border">Date</th>
                                            <th class="px-3 py-2 border">Type</th>
                                            <th class="px-3 py-2 border">Amount</th>
                                            <th class="px-3 py-2 border">Narration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for voucher in company.vouchers %}
                                            <tr class="bg-white hover:bg-gray-50">
                                                <td class="px-3 py-2 border">{{ voucher.date or '-' }}</td>
                                                <td class="px-3 py-2 border">{{ voucher.type or '-' }}</td>
                                                <td class="px-3 py-2 border">{{ voucher.amount or '-' }}</td>
                                                <td class="px-3 py-2 border">{{ voucher.narration or '-' }}</td>
                                            </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        {% else %}
                            <p class="text-sm text-gray-500 italic">No vouchers found.</p>
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <p class="text-center text-gray-500">No Tally data found. Please sync from the local client.</p>
        {% endif %}
    </div>
</body>
</html>
